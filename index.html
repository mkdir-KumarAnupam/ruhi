<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For My Ruhi ❤️</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
/* ---------- VARIABLES & RESET ---------- */
:root {
  --primary: #ff4d88;
  --secondary: #ff8fa3;
  --bg-gradient: linear-gradient(135deg, #ffd1df 0%, #fff0f5 100%);
  --glass: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.8);
  --shadow: 0 15px 35px rgba(255, 77, 136, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  height: 100vh;
  /* Prevent scrolling on body, handle it in card if needed */
  overflow: hidden; 
  font-family: 'Poppins', sans-serif;
  background: var(--bg-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* ---------- BACKGROUND FLOATING POLAROIDS ---------- */
.polaroid-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.polaroid {
  position: absolute;
  background: white;
  padding: 8px 8px 20px 8px; 
  box-shadow: var(--shadow);
  border-radius: 4px;
  transform: rotate(0deg);
  opacity: 0;
  animation: floatUp linear forwards;
}

.polaroid img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 2px;
  display: block;
}

@keyframes floatUp {
  0% { transform: translateY(110vh) rotate(var(--rot)) scale(0.8); opacity: 0; }
  10% { opacity: 0.8; transform: translateY(100vh) rotate(var(--rot)) scale(1); }
  90% { opacity: 0.8; }
  100% { transform: translateY(-20vh) rotate(var(--rot)) scale(1); opacity: 0; }
}

/* ---------- GLASS CARD (CENTER) ---------- */
.card-wrapper {
  position: relative;
  z-index: 10;
  width: 100%;
  padding: 20px;
  display: flex;
  justify-content: center;
}

.card {
  background: var(--glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  padding: 3rem 4rem;
  border-radius: 24px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.1);
  
  /* Responsive Width Logic */
  width: 100%;
  max-width: 500px;
  
  transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
  overflow: hidden;
  position: relative;
  
  /* Ensure it doesn't get taller than the screen on small phones */
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Typography */
h1 {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2.5rem, 8vw, 4rem); /* Responsive font size */
  color: #d6336c;
  margin-bottom: 10px;
  line-height: 1.2;
  text-shadow: 2px 2px 4px rgba(255, 77, 136, 0.1);
}

p.subtitle {
  color: #884d60;
  font-size: clamp(0.9rem, 4vw, 1.1rem);
  margin-bottom: 30px;
  letter-spacing: 0.5px;
}

/* The Love Letter Section */
.hidden-content {
  max-height: 0;
  overflow-y: auto; /* Allows scrolling inside the letter if it's long */
  transition: max-height 0.8s ease, opacity 0.8s ease;
  opacity: 0;
  text-align: left;
  width: 100%;
  
  /* Custom Scrollbar for prettiness */
  scrollbar-width: thin;
  scrollbar-color: #ff8fa3 transparent;
}

.hidden-content::-webkit-scrollbar {
  width: 6px;
}
.hidden-content::-webkit-scrollbar-thumb {
  background-color: #ff8fa3;
  border-radius: 10px;
}

.hidden-content p {
  color: #553344;
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 15px;
}

/* Button */
.btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 12px 35px;
  font-size: 1rem;
  border-radius: 50px;
  cursor: pointer;
  font-family: 'Poppins', sans-serif;
  font-weight: 500;
  transition: transform 0.2s, box-shadow 0.2s, background 0.3s;
  box-shadow: 0 10px 20px rgba(255, 77, 136, 0.3);
  white-space: nowrap; /* Prevents button text wrapping */
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 25px rgba(255, 77, 136, 0.4);
  background: #e63e75;
}

.btn:active {
  transform: scale(0.95);
}

/* Open State styles */
.card.open .hidden-content {
  max-height: 400px; /* Allow expansion */
  opacity: 1;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid rgba(255,77,136,0.2);
}

.card.open .btn {
  display: none;
}

/* ---------- HEART BURST ANIMATION ---------- */
.heart-burst {
  position: absolute;
  width: 12px;
  height: 12px;
  background: var(--primary);
  transform: rotate(45deg);
  pointer-events: none;
  z-index: 100;
}
.heart-burst::before, .heart-burst::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: inherit;
  border-radius: 50%;
}
.heart-burst::before { top: -50%; left: 0; }
.heart-burst::after { left: -50%; top: 0; }

/* ---------- MOBILE SPECIFIC ADJUSTMENTS ---------- */
@media (max-width: 600px) {
  .card {
    padding: 2rem 1.5rem; /* Less padding on mobile */
  }
  .polaroid {
    /* Slightly transparent on mobile so text is readable */
    opacity: 0.6 !important; 
  }
}
</style>
</head>

<body>

<div class="polaroid-container" id="polaroidContainer"></div>

<div class="card-wrapper">
  <div class="card" id="mainCard">
    <h1>Happy Valentine's, Ruhi</h1>
    <p class="subtitle">You're my whole fucking world</p>
    
    <button class="btn" onclick="openLetter(event)">Click Me Babe</button>
    
    <div class="hidden-content">
      <p>Meri Princess,</p>
      <p>Every moment spent with you feels like a beautiful dream I never want to wake up from.</p>
      <p>Thankyou for being in my life meri jaan</p>
      <p style="text-align: center; font-weight: 700; margin-top: 20px; color: #d6336c;">I Love You sosososo Much❤️</p>
    </div>
  </div>
</div>

<script>
/* -----------------------------------------------------
   CONFIG: PHOTOS 
   -----------------------------------------------------
   Make sure these files exist in the same folder!
*/
const photos = [
  "photo1.jpg",
  "photo2.jpg",
  "photo3.jpg",
  "photo4.jpg",
  "photo5.jpg"
];

const container = document.getElementById('polaroidContainer');

/* 1. SPAWN FLOATING POLAROIDS */
function createPolaroid() {
  if (photos.length === 0) return;

  const div = document.createElement('div');
  div.className = 'polaroid';
  
  const img = document.createElement('img');
  img.src = photos[Math.floor(Math.random() * photos.length)];
  
  // Clean up if image doesn't exist
  img.onerror = function() { div.style.display = 'none'; };
  div.appendChild(img);
  
  // Responsive Size Calculation
  const isMobile = window.innerWidth < 600;
  const baseSize = isMobile ? 80 : 120; // Smaller on mobile
  const randomVar = isMobile ? 30 : 50;

  const width = Math.random() * randomVar + baseSize;
  div.style.width = `${width}px`;
  div.style.height = `${width * 1.2}px`;
  
  // Random Position
  div.style.left = `${Math.random() * 90}vw`;
  
  // Random Rotation
  const rot = (Math.random() - 0.5) * 40;
  div.style.setProperty('--rot', `${rot}deg`);
  
  // Random Duration
  const duration = Math.random() * 10 + 15;
  div.style.animationDuration = `${duration}s`;
  
  container.appendChild(div);
  
  setTimeout(() => { div.remove(); }, duration * 1000);
}

// Initial Spawn
for(let i=0; i<8; i++) setTimeout(createPolaroid, i * 800);
// Loop
setInterval(createPolaroid, 2000);


/* 2. OPEN LETTER LOGIC */
function openLetter(e) {
  const card = document.getElementById('mainCard');
  card.classList.add('open');
  
  // Burst Calculation
  // We want the burst to come from the button click position
  let x, y;
  
  // Check if it was a real click or programmatic
  if (e && e.clientX) {
    x = e.clientX;
    y = e.clientY;
  } else {
    // Fallback to center screen
    x = window.innerWidth / 2;
    y = window.innerHeight / 2;
  }

  for(let i=0; i<40; i++) {
    createHeartBurst(x, y);
  }
}

function createHeartBurst(x, y) {
  const heart = document.createElement('div');
  heart.className = 'heart-burst';
  
  const size = Math.random() * 15 + 10;
  heart.style.width = `${size}px`;
  heart.style.height = `${size}px`;
  
  heart.style.left = `${x}px`;
  heart.style.top = `${y}px`;
  
  // Random Explosion Direction
  const destX = (Math.random() - 0.5) * 300;
  const destY = (Math.random() - 0.5) * 300;
  
  heart.style.transition = 'transform 1s ease-out, opacity 1s ease-out';
  document.body.appendChild(heart);
  
  requestAnimationFrame(() => {
    heart.style.transform = `translate(${destX}px, ${destY}px) rotate(${Math.random() * 360}deg)`;
    heart.style.opacity = 0;
  });
  
  setTimeout(() => heart.remove(), 1000);
}

/* 3. MOUSE/TOUCH TRAIL */
// Only enable trail on non-touch devices to save mobile performance
if (!('ontouchstart' in window)) {
  document.addEventListener('mousemove', (e) => {
    if(Math.random() > 0.8) {
      const star = document.createElement('div');
      star.style.position = 'absolute';
      star.style.width = '4px';
      star.style.height = '4px';
      star.style.background = '#ff4d88';
      star.style.borderRadius = '50%';
      star.style.left = `${e.clientX}px`;
      star.style.top = `${e.clientY}px`;
      star.style.pointerEvents = 'none';
      star.style.transition = 'all 0.5s linear';
      star.style.zIndex = 9999;
      document.body.appendChild(star);
      
      requestAnimationFrame(() => {
        star.style.transform = 'translateY(-20px) scale(0)';
        star.style.opacity = 0;
      });
      
      setTimeout(() => star.remove(), 500);
    }
  });
}
</script>

</body>

</html>
